\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{udec-core}

% ========== PAQUETES ==========

% Lógica/Programación
\RequirePackage{xparse}
\RequirePackage{etoolbox}


% Configuración Base
\RequirePackage[utf8]{inputenc}
\RequirePackage[T1]{fontenc}
\RequirePackage[spanish,es-tabla]{babel}


% Bibliografía
\RequirePackage{csquotes}
\RequirePackage[
    backend=biber,       % Motor recomendado
    style=ieee,          % Estilo ingeniería estándar
    citestyle=numeric-comp % Citas como [1-3]
]{biblatex}

% Matemáticas y Ciencia
\let\Bbbk\relax
% Nota: Si usas newtxmath arriba, a veces mathtools debe ir antes o después.
% newtxmath reemplaza a amssymb, así que cuidado con cargar ambos.
% Para seguridad universal, mantenemos el orden estándar:
\RequirePackage{mathtools}
\RequirePackage{amssymb} % Si newtxmath da error "already defined", comenta esta línea
\RequirePackage{esint}
\RequirePackage{siunitx}
\RequirePackage{cancel}


% Figuras
\RequirePackage{graphicx}
\RequirePackage{listings}
\RequirePackage{tikz}
\RequirePackage[american]{circuitikz}


% Tablas
\RequirePackage{booktabs}
\RequirePackage{multirow}
\RequirePackage{makecell}
\RequirePackage{array}


% ---------- Paquetes Según Clases ----------
\@ifclassloaded{beamer}{
    % >>> Beamer <<<
}{
    % >>> Documento <<<
    % Formato
    \RequirePackage{newtxtext, newtxmath}
    \RequirePackage{setspace}
    \RequirePackage{microtype}

    % Figuras en Documentos
    \RequirePackage{float}
    \RequirePackage{subcaption}
    \RequirePackage{enumitem}

    % Util de Revisión 
    \RequirePackage[textsize=footnotesize, obeyFinal]{todonotes}

    % Referencias
    \RequirePackage[hidelinks]{hyperref}
    \RequirePackage{cleveref}

    % --- CONFIGURACIÓN DE IDIOMA CLEVEREF ---
    % Config de nombres cuando el documento esté en español.
    \AtBeginDocument{%
        \crefname{table}{tabla}{tablas}%
        \Crefname{table}{Tabla}{Tablas}%

        \crefname{figure}{figura}{figuras}%
        \Crefname{figure}{Figura}{Figuras}%

        \crefname{equation}{ec.}{ecs.}%
        \Crefname{equation}{Ecuación}{Ecuaciones}%
    }
}


% ========== VARIABLES DE DATOS ==========
\newcommand{\nombreAsignatura}{Nombre Asignatura}
\newcommand{\codigoAsignatura}{000000}
\newcommand{\infoSemestre}{20XX - X}
\newcommand{\nombreProfesor}{Nombre Profesor}

\newcommand{\asignatura}[2]{
    \renewcommand{\nombreAsignatura}{#1}
    \renewcommand{\codigoAsignatura}{#2}
}
\newcommand{\semestre}[1]{\renewcommand{\infoSemestre}{#1}}
\newcommand{\profesor}[1]{\renewcommand{\nombreProfesor}{#1}}

% ========== COMANDOS/MACROS ==========
% Vectores
\newcommand{\vect}[1]{\vec{#1}}
% \newcommand{\vect}[1]{\mathbf{#1}}


% Divergencia / Divergence
\newcommand{\diver}[1]{\nabla\cdot\vect{#1}}

% Rotacional / Curl
\newcommand{\rot}[1]{\nabla\times\vect{#1}}

% Gradiente / Gradient
\newcommand{\grad}[1]{\nabla #1}